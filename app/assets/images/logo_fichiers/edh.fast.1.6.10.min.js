"use strict";window.EDH=window.EDH||{},function(w,d){w.EDH.FASTConstructor=function(dependencies){var _adInfo=/adinfo/.test(location.href.toLocaleLowerCase()),_pageVisible=!0,_bidManager=null,_defaultData={system:{site:"everydayhealth",hideClass:"hide",center:!0,deviceType:"desktop",hasAds:!0,zone:"generalwellness//general",callBack:"",adRefreshTimer:0,includeUTP:!0,slotsAdvance:0},pageTargeting:{ugc:"0",pageviewid:"undefined"!=typeof zd&&null!=zd&&null!=zd.core.pageData?zd.core.pageData.pageViewId:void 0},preroll:{hide:!0,size:"640x480",url:""},slots:{slot:{id:"slot",collapse:!0,isCompanion:!1,isOutOfPage:!1,isSkinAd:!1,skinAdClass:"",loaded:!1,oneByOne:!1,callBack:"",slotTargeting:{pos:"null",slot:"null",inview:"1"},setAdToRefresh:!1,slotRefreshTime:0}}},_data={log:[]},_refreshInterval=null,_defaultThreshold=.5,_refreshHasBeenStopped=!1,_getService=function(){if(!d.querySelector("#GPT")){w.googletag=w.googletag||{},w.googletag.cmd=w.googletag.cmd||[];var e=d.createElement("script"),t="https:"===d.location.protocol,a=d.getElementsByTagName("script")[0];e.async=!0,e.id="GPT",e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",a.parentNode.insertBefore(e,a),log("Page Level: Fetching GPT PubAds implementation.")}},_setDefaults=function(e,t){var a;for(var n in e)e.hasOwnProperty(n)&&(t[n]=t.hasOwnProperty(n)?_cleanString(t[n]):e[n],a=t===_data.system?"system":"page targeting",log("Data Level: Setting "+a+" values: "+n+": "+t[n]))},_setFixedValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=_cleanString(e[t]))},_getDomainName=function(){var e=w.location.host.split(".");return e=e[e.length-2]||"everydayhealth"},_setSite=function(){_data.system.site=_data.system.site||_getDomainName()||_defaultData.system.site},_setZone=function(){var e=_data.system.zone;return e=(e=(e=e.toLowerCase().split("/").filter(Boolean)).filter(function(e,t,a){return a.indexOf(e)===t})).join("//")},_cleanString=function(e,t,a){var n=new RegExp(t||"[^a-zA-Z0-9]$-_","gi"),i=new RegExp(" ","gi");return a=a||"_",e&&e.constructor===String?e.replace(i,a).replace(n,a):e},_updateData=function(e,t,a){return t=_cleanString(t),a=_cleanString(a),e[t]&&Array.isArray(e[t])?(e[t].push(a),e[t]):e[t]&&!Array.isArray(e[t])?(e[t]=e[t].split(),e[t].push(a),e[t]):(e[t]=a,e[t])},_setPlt=function(){var e=_data.system&&_data.system.deviceType&&_data.system.deviceType.toLowerCase();if(e){var t="desktop"===e?"desktop":"mobileweb";_updateData(_data.pageTargeting,"plt",t)}},_setMdv=function(){var e,t=_data.system&&_data.system.deviceType&&_data.system.deviceType.toLowerCase();t&&"desktop"!==t&&(e="tablet"===t?"tab":"sph",_updateData(_data.pageTargeting,"mdv",e))},_setSrc=function(){var e=_data.query&&_data.query.xid;e&&_updateData(_data.pageTargeting,"src",e&&e.split("_")[0])},_setRef=function(){var e=d.referrer&&d.referrer.split("/")[2],t=new RegExp(_data.system.site);e&&!t.test(e)&&_updateData(_data.pageTargeting,"ref",_cleanString(e))},_setTestAds=function(){var e=_data.query&&_data.query.test_ads||"";e.length&&_updateData(_data.pageTargeting,"zt","test_"+e)},_setHasAds=function(){_data.system.hasAds=_data.query&&!_data.query.no_ads},_setStringArray=function(e,t,a,n){for(var i,o=e&&e.split(a||";"),r=o&&o.length||0;r--;)(i=o[r]&&o[r].split(n||"="))&&i[1]&&_updateData(t,i[0],i[1])},_getCookie=function(e){for(var t,a=d.cookie.split("; "),n=a.length;n--;)if((t=a[n].split("="))[0]===e)return w.unescape(t[1]);return""},_populateData=function(e){w.utp=w.utp||"u=null;p=null",e=e||_defaultData,w.googletag&&w.googletag.pubads&&w.googletag.pubads().updateCorrelator&&w.googletag.pubads().updateCorrelator(),_data.query?_populateDataContinuous(e):_populateDataInit(e),_data.system.zone=_setZone(),_cleanCat(),_setPlt(),_setMdv(),_setSite(),_setRef(),_setSlotSizes(),_setTestAds(),_setSrc(),_setHasAds(),_setFixedValues(_data.pageTargeting)},_populateDataInit=function(e){(_data=Object.create(e)).system=_data.system,_data.pageTargeting=_data.pageTargeting,_data.slots=_data.slots,_data.log=[["FAST: loading",(new Date).getTime()]],_setDefaults(_defaultData.system,_data.system),_setDefaults(_defaultData.pageTargeting,_data.pageTargeting),_data.query={},_setStringArray(w.location.search.split("?")[1],_data.query,"&","="),_data.system.includeUTP&&_setStringArray(w.utp.replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,""),_data.pageTargeting),_getCookie("aamdfp")&&_setStringArray(_getCookie("aamdfp"),_data.pageTargeting),_getCookie("aam_uuid")&&_updateData(_data.pageTargeting,"AdobeID",_getCookie("aam_uuid"))},_populateDataContinuous=function(e){for(var t in e.system)e.system.hasOwnProperty(t)&&(_data.system[t]=e.system[t]);for(var a in e.pageTargeting)e.pageTargeting.hasOwnProperty(a)&&(_data.pageTargeting[a]=e.pageTargeting[a]);for(var n in e.slots)e.slots.hasOwnProperty(n)&&!_data.slots.hasOwnProperty(n)&&_updateData(_data.slots,n,e.slots[n])},log=function(e){var t=(new Date).getTime();_data.log.push([t,"EDH.FAST: "+e]),_adInfo&&w.console&&_showLog(_data.log.length-1||0)},_showLog=function(e){var t=w.console&&w.console.info?"info":"log";w.console[t](_data.log[e][0]+" - "+_data.log[e][1])},_setPageTags=function(){var e=_data.pageTargeting;w.googletag.cmd.push(function(){for(var t in e)e.hasOwnProperty(t)&&w.googletag.pubads().setTargeting(t,e[t])})},_defineSlot=function(e){var t=_data.system;if(!e.ad){var a="/4213/"+t.site+"/"+(e.zone||t.zone);e.ad=w.googletag.defineSlot(a,e.size,e.id).addService(w.googletag.pubads()),log("Slot Level: "+e.id+" - Define slot : "+a+", "+JSON.stringify(e.size))}},_defineOOPSlot=function(e){var t=_data.system;e.ad||(e.ad=w.googletag.defineOutOfPageSlot("/4213/"+t.site+"/"+t.zone,e.id).addService(w.googletag.pubads()),log("Slot Level: "+e.id+"Define OOP Slot : /4213/"+t.site+"/"+_data.system.zone))},_renderSkinAd=function(e,t){var a,n=document.getElementById(t),i=n.querySelector('iframe[id^="google_ads_iframe"]'),o=n.querySelector('div[id^="google_ads_iframe"]'),r=i.contentWindow.document.getElementById("settingsDiv")||o;(o.getAttribute("data-creative")||null!==r)&&((a=_getSkinSettings(r,n)).className=e.skinAdClass,_setSkinSettings(o,a),w.addEventListener("resize",function(){_setSkinSettings(o,a)}))},_getSkinSettings=function(e,t){var a={skinSmMin:t.getAttribute("data-skin-sm-min")||768,skinMdMin:t.getAttribute("data-skin-md-min")||980,skinLgMin:t.getAttribute("data-skin-md-max")||1199,locked:e.getAttribute("data-locked"),clickthrough:e.getAttribute("data-clickthrough"),creative:e.getAttribute("data-creative")};return a.creativeSm=e.getAttribute("data-creative-sm")||a.creative,a.creativeMd=e.getAttribute("data-creative-md")||a.creative,a},_setSkinSettings=function(e,t){var a=_getAdSkinBackground(t);""!==a&&null!==a&&(e.className=t.className,e.style.background="url('"+a+"')",e.style.position="yes"==t.locked?"fixed":"absolute",e.innerHTML='<div class="skin-ad-gradient"></div><a href=\''+t.clickthrough+"' target='_blank'></a>")},_getSmallAdSkin=function(e,t){return e.skinSmMin<=t&&t<e.skinMdMin&&e.creativeSm},_getMediumAdSkin=function(e,t){return e.skinMdMin<=t&&t<e.skinLgMin&&e.creativeMd},_getAdSkinBackground=function(e){var t=_getViewportWidth();return _getSmallAdSkin(e,t)||_getMediumAdSkin(e,t)||e.creative},_adEventListner=function(){log('Page Level: Event added "slotRenderEnded".'),w.googletag.cmd.push(function(){w.googletag.pubads().addEventListener("slotRenderEnded",function(event){var slotid=event.slot.getSlotId().getDomId(),slot=_data.slots[slotid],src=slot.ad.getContentUrl(),adNode=d.querySelector("#"+slotid),tracker=d.querySelector("#"+slotid+"track");if(_clearPlaceholderSize(slotid),!tracker){var trackerNode=d.createElement("span");trackerNode.id=slotid+"track",adNode.parentNode.insertBefore(trackerNode,adNode)}slot.correlator=src.split("correlator=")[1].split("&")[0],_data.system.correlator=slot.correlator,slot.creativeId=event.creativeId,slot.lineItemId=event.lineItemId,slot.width=event.size&&event.size[0],slot.height=event.size&&event.size[1],slot.src=src,slot.adUnitId=slot.ad.getAdUnitPath(),eval(slot.callBack),_isOneByOne(slotid),slot.isSkinAd&&setTimeout(function(){_renderSkinAd(slot,slotid)},500),_isDebug()&&_addDebug(slotid),log(slotid+" Ad received. Correlator: "+slot.correlator+" Creative: "+event.creativeId),slot.callBack&&log(slotid+" Callback triggered: "+slot.callBack)})})},_setSlotTags=function(){var e=_data.slots;w.googletag.cmd.push(function(){for(var t in e)e.hasOwnProperty(t)&&!e[t].ad&&(_pushSlot(e[t]),w.googletag.display(e[t].id),log("Slot Level: "+e[t].id+" - Call display"))})},_setSlotSizes=function(){var e=_data.slots;for(var t in e)e.hasOwnProperty(t)&&(e[t].size||(e[t].size=/(leader)/.test(e[t].slotTargeting.slot)?[[728,90]]:[[300,250]]))},_pushSlot=function(e){log("Slot Level: "+e.id+" - Setting slot level values."),e.isOutOfPage?_defineOOPSlot(e):_defineSlot(e),_isCompanion(e),_isCollapse(e),_setSlotTargeting(e),_setSizeMapping(e)},_setSlotTargeting=function(e){for(var t in e.slotTargeting)e.slotTargeting.hasOwnProperty(t)&&(e.ad.setTargeting(t,e.slotTargeting[t]),log("Slot Level: "+e.id+" - Slot target: "+t+": "+e.slotTargeting[t]))},_setSizeMapping=function(e){e.sizeMapping&&"object"==typeof e.sizeMapping&&(e.ad.defineSizeMapping(e.sizeMapping),log(e.id+" - Define Size Mapping: "+JSON.stringify(e.sizeMapping)))},_isCompanion=function(e){e.isCompanion&&(e.ad.addService(w.googletag.companionAds()),w.googletag.cmd.push(function(){w.googletag.companionAds().setRefreshUnfilledSlots(!0)}),_data.system.hasCompanion=!0,log("Slot Level: "+e.id+" - Add service: companionAds"))},_hasVideo=function(){return!!_data.preroll&&(w.googletag.cmd.push(function(){w.googletag.pubads().enableVideoAds()}),log("Page Level: Add service: VideoAds"),!0)},_initBidManager=function(){dependencies.bidManager&&dependencies.bidManager.init&&(_bidManager=dependencies.bidManager).init()},_setCompanion=function(){_data.system.hasCompanion&&w.googletag.cmd.push(function(){w.googletag.companionAds().setRefreshUnfilledSlots(!0)})},_isCollapse=function(e){e.collapse&&(e.ad.setCollapseEmptyDiv(!0),log("Slot Level: "+e.id+" - Add service: Collapse empty div after render."))},_buildDebug=function(e){var t=d.createElement("div"),a=d.createElement("table"),n=_cleanDebugUrl(e.src);return"padding: 10px; z-index: 2000010; resize: both; font-style: normal; font-variant: normal; font-weight: normal;","font-stretch: normal; font-size: 13px; line-height: 150%; text-align: left; background-color: rgb(255, 248, 224);",!!n.length&&(t.appendChild(a),t.style.cssText="border: 1px solid rgb(0, 153, 0); position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: scroll;padding: 10px; z-index: 2000010; resize: both; font-style: normal; font-variant: normal; font-weight: normal;font-stretch: normal; font-size: 13px; line-height: 150%; text-align: left; background-color: rgb(255, 248, 224);",t.className="debugadcode",_buildTable(a,e,n),t)},_buildTable=function(e,t,a){return a.map(function(t){t=t.split("="),_adTableRow(e,t[0],t[1])}),_adTableRow(e,"Correlator",t.ad.getServices()[0].getCorrelator()),_adTableRow(e,"Unit Id",t.adUnitId),_adTableRow(e,"Decode URL",'<input type="text" style="width:100%;" value="'+decodeURIComponent(decodeURIComponent(t.src))+'"></input>'),_adTableRow(e,"Creative",t.creativeId),_adTableRow(e,"Line Item",t.lineItemId),_adTableRow(e,"Size",t.width+"x"+t.height),e},_cleanDebugUrl=function(e){var t=decodeURIComponent(decodeURIComponent(e)).split("?")[1]||"";return t=(t=(t=(t=t.split("&scp=")[1]||t).split("&cookie")[0]||t).split("&cust_params=").join("&")).split("&")||t},_adTableRow=function(e,t,a){var n=e.insertRow(0);n.insertCell(0).innerHTML='<b style="display:inline-block;min-width:100px">'+t+":</b> ",n.insertCell(1).innerHTML=a},_removeDebug=function(e){var t=_data.slots;if(e)_removeDebugDiv(e);else for(var a in t)t.hasOwnProperty(a)&&_removeDebugDiv(t[a].id)},_removeDebugDiv=function(e){var t=d.getElementById(e),a=t&&t.getElementsByClassName("debugadcode")[0];a&&(t.removeChild(a),log(e+" - Debug block cleared."))},_addDebug=function(e){_removeDebug(_data.slots[e].id);var t,a=d.getElementById(_data.slots[e].id);return!!a&&(t=a.children[0],a.style.position="relative",log(e+" - Debug block added."),t&&a.insertBefore(_buildDebug(_data.slots[e]),t))},_isDebug=function(){return/debugadcode/i.test(location.search.split("?")[1])},_setAdsEnabled=function(){w.googletag.impl||(w.googletag.cmd.push(function(){w.googletag.pubads().setCentering(_data.system.center),w.googletag.pubads().disableInitialLoad(),w.googletag.enableServices()}),log("Page Level: Setting centering to "+_data.system.center),log("Page Level: disable initial load."),log("Page Level: Enabling Services."))},_updateRfrValue=function(e){var t=_data.slots[e];void 0===t.slotTargeting.rfr?t.slotTargeting.rfr="0":t.slotTargeting.rfr=(+t.slotTargeting.rfr+1).toString(),t.ad.setTargeting("rfr",t.slotTargeting.rfr)},_refreshAd=function(e,t){var a=_data.slots[e],n=a.slotTargeting.rfr,i=function(){w.googletag.pubads().refresh([a.ad],{changeCorrelator:t})};"string"==typeof n&&a.maxRefreshCount&&parseInt(n)>=a.maxRefreshCount?log(e+" max ad refreshes reached. Not refreshing slot."):(_updateRfrValue(e),_bidManager&&_bidManager.beforeAdRefresh?_bidManager.beforeAdRefresh(a).then(function(){return i()}).catch(function(){return i()}):i(),log(e+" Refreshing slot."))},_loadOne=function(e){_data.slots[e].loaded||(w.googletag.cmd.push(function(){_refreshAd(e,!1)}),_data.slots[e].loaded=!0,log("Slot Level: "+e+" Regestering ad with GPT."))},_hideAd=function(e){var t=_data.slots;if(e&&!d.getElementById(e))return!1;if(e)_addClass(d.getElementById(e)),log(e+" - has been hidden.");else for(var a in t)t.hasOwnProperty(a)&&(_addClass(d.getElementById(t[a].id)),log(t[a].id+" - has been hidden."));return!1},_isOneByOne=function(e){var t=d.getElementById(e)&&d.getElementById(e).querySelector("iframe")&&d.getElementById(e).querySelector("iframe").contentDocument&&d.getElementById(e).querySelector("iframe").contentDocument.body&&!!d.getElementById(e).querySelector("iframe").contentDocument.body.querySelector("[src$='1x1.JPG']");_data.slots[e].oneByOne=t,t&&(_hideAd(e),log(e+" - is a 1x1 ad and has been hidden."))},_show=function(e){var t=_data.slots;if(e&&!d.getElementById(e))return!1;if(e)_removeClass(d.getElementById(e));else for(var a in t)t.hasOwnProperty(a)&&_removeClass(d.getElementById(t[a].id));return!1},_addClass=function(e){if(e&&"string"==typeof e.className){var t=e.className.concat(" "+_data.system.hideClass);e.className=t}},_removeClass=function(e){if(e&&e.className){var t=e.className.replace(_data.system.hideClass,"").trim();e.className=t}},_isLoadable=function(e,t){return!_data.slots[e].loaded&&!0===t||!!(_data.system.hasAds&&d.getElementById(e)&&_isVisible("#"+e)&&_data.slots[e].ad)&&!(_data.slots[e].loaded||!0===t||!(_data.slots[e].slotTargeting&&"0"===_data.slots[e].slotTargeting.inview&&_isVisible("#"+e)||_isInView("#"+e)))},_isInView=function(e){var t={},a=_defaultThreshold,n=e.slice(1),i=_getElementSize(e);if(!i)return!1;var o=_getElementSize(".header"),r=o?o.height:0,s=_getElementSize("#ZDAdKitAdhesion"),d=s?s.height:0;return _data.slots[n]&&_data.slots[n].inViewPercentage&&(a=_data.slots[n].inViewPercentage/100),!!_pageVisible&&(t.height=i.height,t.bottom=i.bottom+_data.system.slotsAdvance-t.height*a-r,t.left=i.left,t.right=i.right,t.top=i.top-_data.system.slotsAdvance+t.height*a+d,t.width=i.width,_data.system.slotsAdvance&&log("prefetching of slots is enabled and set to "+_data.system.slotsAdvance+"px. top and bottom sizes of the slot "+e+" were changed"),!!t&&(!(_isBelowTheFold(t)||_isAboveTheTop(t,e)||_isLeftOfScreen(t)||_isRightOfScreen(t))&&_isVisible(e)))},_getViewportHeight=function(){return _data.system.windowHeight=w.innerHeight||d.documentElement.clientHeight},_cleanCat=function(){var e=_data.pageTargeting.cat,t=/(;)/.test(e)?";":/(;)/.test(e)?";":"";return!(!e||"object"==typeof e||!t)&&(e=e.replace(/cat=/gi,""),t&&(e=e.split(t).filter(Boolean)),log("Data Level: Cleaning cat: "+e),_data.pageTargeting.cat=e)},_getViewportWidth=function(){return _data.system.windowWidth=w.innerWidth||d.documentElement.clientWidth},_getElementSize=function(e){var t="string"==typeof e,a=t?d.querySelector(e):e,n=a&&a.getBoundingClientRect(),i=t?d.querySelector(e+"track"):a.parentNode.querySelector("[id$=track]"),o=i&&i.getBoundingClientRect();return(n&&(n.bottom||n.height||n.left||n.right||n.top||n.width)?n:o)||n},_isBelowTheFold=function(e){return e.top>_data.system.windowHeight},_isAboveTheTop=function(e){return e.bottom<0},_isLeftOfScreen=function(e){return e.right<0},_isRightOfScreen=function(e){return e.left>_data.system.windowWidth},_getStyle=function(e,t){return"undefined"!==getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},_isVisible=function(e){var t="object"==typeof e?e:d.querySelector(e),a=t.parentNode,n=t.id;return!!(n&&_data.slots[n]&&_data.slots[n].ad&&/display: none/.test(t.getAttribute("style"))||["opacity","display","visibility"].reduce(function(e,a){return e&&!/(0|none|hidden)/.test(_getStyle(t,a))},!0))&&(!(!a||9!==a.nodeType)||_isVisible(a))},_attach=function(){if(_data.system.hasAds&&w.googletag.pubadsReady){var e=_getBrowserPrefix(),t=_getHiddenProperty(e),a=_getVisibilityEvent(e);_checkSize(),w.onresize=_checkSize,w.onscroll=_scroll,document.addEventListener(a,function(){document[t]?_pageVisible=!1:(_pageVisible=!0,w.scrollBy(0,1),w.scrollBy(0,-1)),log("Page Level: The tab is now visible? "+_pageVisible)}),log("Page Level: Resize and scroll events attached.")}else window.setTimeout(_attach,50)},_checkSize=function(){_getViewportHeight(),_getViewportWidth(),_scroll()},_scroll=function(){var e=_data.slots;for(var t in _load(),e)e[t].hasOwnProperty("loaded")&&e[t].loaded&&_refreshAdInQue(t)},_load=function(e,t){var a=_data.slots;if(e&&_isLoadable(e,t))_loadOne(e);else for(var n in a)a.hasOwnProperty(n)&&_isLoadable(a[n].id)&&_loadOne(a[n].id)},_getBrowserPrefix=function(){if("hidden"in document)return null;for(var e=["moz","ms","o","webkit"],t=0;t<e.length;t++){if(e[t]+"Hidden"in document)return e[t]}return null},_getHiddenProperty=function(e){return e?e+"Hidden":"hidden"},_getVisibilityEvent=function(e){return e?e+"Visibilitychange":"visibilitychange"},_setPlaceholderSize=function(e){var t="#"+e,a=d.querySelector(t),n=_getElementSize(t);a&&(a.style.minHeight=n.height+"px")},_clearPlaceholderSize=function(e){var t=d.querySelector("#"+e);t&&(t.style.removeProperty("min-height"),t.classList.remove("_hold-size"))},_refresh=function(e){var t=_data.slots;if(!_data.system||!_data.system.hasAds||e&&!_isRefreshable(e))return!1;if(e&&_isRefreshable(e)&&_refreshAd(e,!0),!e){w.googletag.pubads().updateCorrelator();var a=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];(void 0===i.isRefresh||i.isRefresh)&&(_setPlaceholderSize(n),_isRefreshable(n)?(_refreshAd(n,!1),i.setAdToRefresh=!1):(_data.slots[n].loaded&&(i.setAdToRefresh=!0,a.push(i.ad),log(n+" : will refresh later.")),log(n+" : has not yet loaded so will not refresh.")))}w.googletag.pubads().clear(a)}return!1},_isLeftSideIntersects=function(e,t){return e.left>t.left&&e.left<t.right},_isRightSideIntersects=function(e,t){return e.right>t.left&&e.right<t.right},_isTopSideIntersects=function(e,t){return e.top>t.top&&e.top<t.bottom},_isBottomSideIntersects=function(e,t){return e.bottom>t.top&&e.bottom<t.bottom},_isHorizontalyIntersects=function(e,t){return _isLeftSideIntersects(e,t)||_isRightSideIntersects(e,t)},_verticallyBothSidesIntersects=function(e,t){return _isTopSideIntersects(t,e)&&_isBottomSideIntersects(t,e)},_getVisibleAdPart=function(e,t,a){switch(e){case"top":return t.bottom-a.bottom;case"bottom":return a.top-t.top;case"covers":return t.height-a.height}},_isCovered=function(e,t){t=t||[".jw-flag-floating .jw-video",".o2-in-side-view"];for(var a=0;a<t.length;a+=1)if(_isCoveredByElement(t[a],e))return!0;return!1},_isCoveredByElement=function(e,t){var a=d.querySelector(e),n=d.querySelector(t),i=_data.slots[t.slice(1)].inViewPercentage/100||_defaultThreshold;if(!a||!n)return!1;var o=_getElementSize(a),r=_getElementSize(n);if(_isHorizontalyIntersects(r,o)){var s,l=_isTopSideIntersects(r,o),g=_isBottomSideIntersects(r,o);if(l&&g)return!0;if(l)s="top";else if(g)s="bottom";else{if(!_verticallyBothSidesIntersects(r,o))return!1;s="covers"}return _getVisibleAdPart(s,r,o)/r.height<i}return!1},_isRefreshable=function(e){var t=_data.slots[e],a="#"+e;return!(!(_pageVisible&&d.getElementById(e)&&_isVisible(a)&&t.ad)||t.isOutOfPage||t.interstitial||!(_data.slots[e].slotTargeting&&"0"===_data.slots[e].slotTargeting.inview||_isInView(a)&&!_isCovered(a)))},_refreshAdInQue=function(e){var t=_data.slots[e],a="#"+e;!t||t.isOutOfPage||t.interstitial||_isInView(a)&&!_isCovered(a)&&t.setAdToRefresh&&(_refreshAd(e,!1),t.setAdToRefresh=!1)},_getPrerollUrl=function(e){if(!_data.preroll)return"";var t=_data.pageTargeting,a="&competitiveExclusionMode=off&scp=slot%3Dpreroll%26pos%3Dvideo&cust_params=",n="//pubads.g.doubleclick.net/gampad/ads?sz="+_data.preroll.size+"&gdfp_req=1&iu=/4213/",i="string"==typeof e?"bcsrc%3D"+e:"";for(var o in n+=_data.system.site+"/"+_data.system.zone+"&url=[referrer_url]&correlator="+_data.system.correlator,n+="&env=vp&unviewed_position_start=1&output=xml_vast3&impl=s",t)t.hasOwnProperty(o)&&(a+=o+"%3D"+(Array.isArray(t[o])?t[o].join("%2C"):t[o])+"%26");return _data.preroll.url=n+a+i,log("Generating preroll url."),log(_data.preroll.url),_data.preroll.url},_isTimerOn=function(){var e=_data.slots,t=_data.system.adRefreshTimer;if(e&&t&&t>0){for(var a in e)e[a]&&e.hasOwnProperty(a)&&e[a].isOutOfPage&&(e[a].setAdToRefresh=t);return t}return!1},_refreshAdOnTimer=function(){var e=_isTimerOn();e&&(_refreshInterval=setInterval(_refresh,e))},_attachAdsEventListeners=function(){w.addEventListener("message",_toggleStopAdsRefresh)},_toggleStopAdsRefresh=function(e){switch(e.data.event){case"stopadrefresh":case"stopadrefreshoninteraction":!_refreshHasBeenStopped&&_refreshInterval&&(clearInterval(_refreshInterval),_refreshHasBeenStopped=!0);break;case"resumeadrefreshoninteraction":_refreshHasBeenStopped&&(_refreshAdOnTimer(),_refreshHasBeenStopped=!1)}},_runOnce=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}};this._version=function(){return"1.6.6"},this._init=function(data){_populateData(data),log("Page Level: Calling init"),data&&data.system&&(void 0===data.system.hasAds||data.system.hasAds)&&!/no_ads/.test(location.search.toLocaleLowerCase())?(_getService(),_setPageTags(),_setCompanion(),_hasVideo(),_initBidManager(),_setAdsEnabled(),eval(data.system.callBack),_setSlotTags(),_adEventListner(),_attach(),_refreshAdOnTimer(),_attachAdsEventListeners(),_scroll()):(log("Ads are disabled."),_hideAd())},this._getData=function(){return _data},this._load=function(e,t){return _load(e,t)},this._refresh=function(e){return _refresh(e)},this._debug=function(e){var t=_data.slots;if(e)_addDebug(e,!0);else for(var a in t)t.hasOwnProperty(a)&&_addDebug(t[a].id,!0)},this._removeDebug=function(e){return e?_removeDebug(e):_removeDebug()},this._toggleUgc=function(){var e=_data.pageTargeting.ugc||0;return e="0"===e?"1":"0",w.googletag.cmd.push(function(){w.googletag.pubads().setTargeting("ugc",e)}),_data.pageTargeting.ugc=e},this._isInView=function(e){return _isInView(e)},this._hide=function(e){return e?_hideAd(e):_hideAd()},this._show=function(e){return e?_show(e):_show()},this._showLog=function(){for(var e=_data.log.reverse().length;e--;)_showLog(e);_adInfo=!0},this._getPreroll=function(e){return _getPrerollUrl(e)},this._isCovered=function(e){return _isCovered("#"+e)},this._addSlot=function(e){var t=_data.slots;t[e.id]=e,w.googletag.cmd.push(function(){_data.slots.hasOwnProperty(e.id)&&!e.ad&&(_pushSlot(e),w.googletag.display(t.id))})},this._removeSlot=function(e){if(_data&&_data.slots){var t=_data.slots[e];if(!t||!t.ad)return;w.googletag.destroySlots([t.ad])}}}}(window,document),window.EDH.FASTConstructor.prototype={init:function(e){this._init(e)},renderSkinAd:function(e,t){return this._renderSkinAd(e,t)},version:function(){return this._version()},data:function(){return this._getData()},load:function(e,t){return e?this._load(e,t):this._load(null,t)},refresh:function(e){return this._refresh(e)},debug:function(e){return e?this._debug(e):this._debug()},removeDebug:function(e){return e?this._removeDebug(e):this._removeDebug()},toggleUgc:function(){return this._toggleUgc()},isInView:function(e){return this._isInView(e)},hide:function(e){return e?this._hide(e):this._hide()},show:function(e){return e?this._show(e):this._show()},showLog:function(){return this._showLog()},getPreroll:function(e){return this._getPreroll(e)},isCovered:function(e){return this._isCovered(e)},addSlot:function(e){this._addSlot(e)},removeSlot:function(e){this._removeSlot(e)}};var EH=EH||{};EH.Dart={registerExtraAd:function(){}};